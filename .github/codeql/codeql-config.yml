name: "CodeQL Config"

# Disable default queries that might cause false positives
disable-default-queries: false

# Add custom query packs
packs:
  - codeql/javascript-queries

# Exclude certain paths from analysis
paths-ignore:
  - "node_modules/**"
  - "dist/**"
  - "build/**"
  - "*.min.js"
  - "public/**"
  - "scripts/generate-sitemap.js"
  - "netlify/functions/**"

# Include only relevant paths
paths:
  - "src/**"
  - "scripts/**"
  - "*.config.js"
  - "*.config.ts"

# Custom queries to exclude
queries:
  - exclude:
      id: js/unused-local-variable
  - exclude:
      id: js/debugger-statement
  - exclude:
      id: js/alert-call

# Security-focused query suites
query-filters:
  - exclude:
      tags: "external/cwe/cwe-079"  # XSS - we handle this with CSP
  - include:
      tags: "security"
  - include:
      tags: "external/cwe/cwe-089"  # SQL injection
  - include:
      tags: "external/cwe/cwe-078"  # Command injection 